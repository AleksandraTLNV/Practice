# Документация подсистемы для менеджеров проектов и членов команд на платформе для онлайн управления проектами и командной работы

## Описание бизнес-процессов

### Создание нового проекта

**Участники:** Менеджер проекта, Система

**Триггер:** Менеджер проекта нажимает кнопку "Создать проект" в интерфейсе.

Менеджер проекта заполняет форму, указывая:

*   Название проекта
*   Описание проекта
*   Дату начала проекта
*   Предполагаемую дату завершения проекта
*   Список участников проекта (из существующих пользователей системы)
*   Бюджет проекта (опционально)

Система проверяет введенные данные на корректность.

Система создает проект и добавляет его в список проектов менеджера.

Система отправляет уведомления добавленным участникам проекта.

Менеджер проекта получает доступ к управлению проектом.

### Назначение задачи

**Участники:** Менеджер проекта, Исполнитель, Система

**Триггер:** Менеджер проекта создает новую задачу в рамках проекта.

Менеджер проекта заполняет форму задачи, указывая:

*   Название задачи
*   Описание задачи
*   Приоритет (высокий, средний, низкий)
*   Срок выполнения
*   Исполнителя (из участников проекта)
*   Зависимости от других задач (опционально)
*   Прикрепленные файлы (опционально)

Система проверяет введенные данные на корректность.

Система создает задачу и связывает ее с проектом и исполнителем.

Система отправляет уведомление исполнителю о назначении задачи.

Задача появляется в списке задач исполнителя.

![bpmn](Practice/UML_crowsfoot.png)

### Обновление статуса задачи

**Участники:** Исполнитель, Менеджер проекта, Система

**Триггер:** Исполнитель меняет статус задачи (например, "В работе", "Завершена").

Исполнитель выбирает новый статус задачи.

(Опционально) Исполнитель добавляет комментарий об изменении статуса.

Система сохраняет новый статус задачи.

Система отправляет уведомление менеджеру проекта об изменении статуса.

Статус задачи обновляется в интерфейсе для всех участников проекта.

### Загрузка документа в проект

**Участники:** Участник проекта, Система

**Триггер:** Участник проекта нажимает кнопку "Загрузить файл" в разделе документов проекта.

Участник проекта выбирает файл с локального компьютера.

Участник проекта указывает название файла и (опционально) описание.

Система проверяет формат и размер файла (в соответствии с заданными ограничениями).

Система загружает файл и сохраняет его в хранилище документов проекта.

Система создает запись о новом файле в списке документов проекта.

Система отправляет уведомление участникам проекта (опционально, настраивается).
**Участники:** Участник проекта, Система

**Триггер:** Участник проекта нажимает кнопку "Создать обсуждение".

Участник проекта вводит:

*   Заголовок обсуждения
*   Текст сообщения

Система создает обсуждение и добавляет первое сообщение.

Система отправляет уведомления другим участникам проекта.

Участники проекта могут добавлять ответы в обсуждение.

### Запрос на участие в проекте (если нужен внешний участник)

**Участники:** Внешний пользователь, Менеджер проекта, Система

**Триггер:** Внешний пользователь отправляет запрос на участие в проекте (через форму на сайте или по приглашению).

Внешний пользователь указывает:

*   ФИО
*   Email
*   Сообщение менеджеру проекта (опционально)

Система отправляет уведомление менеджеру проекта о запросе.

Менеджер проекта рассматривает запрос и принимает или отклоняет его.

**Если менеджер проекта принимает запрос:**

*   Система создает учетную запись для внешнего пользователя (если ее еще нет).
*   Система добавляет пользователя в список участников проекта.
*   Система отправляет уведомление пользователю о добавлении в проект.

**Если менеджер проекта отклоняет запрос:** система отправляет уведомление пользователю об отклонении.

## Описание заинтересованных сторон

| ФИО   | Контактная инфо | Положение относительно предприятия | Должность                        | Роль                                      | Расположение | Степень влияния | Уровень ответственности |
|-------|-----------------|---------------------------------------|-----------------------------------|-------------------------------------------|--------------|------------------|--------------------------|
| ФИО1  | телефон/по чта  | внутри                                | руководитель направления развития | специалист предметной области бизнеса  | офис предприятия | сильное           | ответственный             |
| ФИО2  | телефон/по чта  | внутри                                | владелец процесса                 | спонсор проекта                           | офис предприятия | сильное           | консультирующий           |
| ФИО3  | телефон/по чта  | внутри                                | менеджер                          | конечный пользователь                      | офис предприятия | сильное           | консультирующий           |
| ФИО4  | телефон/|
| ФИО6  | телефон/по чта  | во вне                                | бизнес-системный аналитик         | бизнес-аналитик                           | офис разработки    | сильное           | исполнитель             |
| ФИО7  | телефон/по чта  | во вне                                | разработчик                       | разработчик                               | офис разработки    | слабое           | исполнитель             |
| ФИО8  | телефон/по чта  | во вне                                | тестировщик                       | тестировщик                               | офис разработки    | слабое           | исполнитель             |
| ФИО9  | телефон/по чта  | внутри                                | специалист службы поддержки     | операционная поддержка                    | офис предприятия | сильное           | консультирующий           |

## Требования

### Бизнес требования

**Бизнес-цель:** Увеличить эффективность взаимодействия, планирования задач и отслеживания прогресса на платформе для онлайн-управления проектами и командной работы для менеджеров и членов команд.

**Бизнес-задача:** Создание подсистемы для менеджеров проектов и членов команд, которая позволит им более эффективно взаимодействовать, планировать задачи и отслеживать прогресс на платформе для онлайн-управления проектами и командной работы.

**Бизнес-требования:**

*   Обеспечить централизованную платформу для взаимодействия, что сократит время на коммуникацию и улучшит координацию между членами команды.
*   Предоставить инструменты для планирования, распределения задач и мониторинга прогресса, что позволит своевременно выявлять и устранять отклонения от плана.
*   Автоматизировать рутинные процессы, такие как обновление статусов задач и отправка уведомлений, снижая нагрузку на персонал.
*   Обеспечить доступ к актуальной информации о состоянии проектов для всех заинтересованных сторон, способствуя принятию обоснованных решений.

### Требования заинтересованных сторон:

*   Конечный пользователь с ролью Менеджер/Пользователь должен иметь возможность зарегистрироваться в системе, создать и настроить свой профиль
*   Конечный пользователь с ролью Менеджер должен иметь возможность создавать новые проекты, устанавливать их параметры и цели.
*   Конечный пользователь с ролью Менеджер/Пользователь должен иметь возможность создавать задачи, назначать их конкретным членам команды, устанавливать приоритеты и сроки выполнения.
*   Конечный пользователь с ролью Менеджер/Пользователь должен иметь возможность видеть назначенные им задачи, обновлять их статус и добавлять комментарии.
*   Конечный пользователь с ролью Менеджер/Пользователь должен иметь доступ к календарю для планирования встреч, а также получать уведомления о предстоящих событиях.
*   Конечный пользователь с ролью Менеджер/Пользователь должны иметь возможность загружать, хранить и совместно редактировать документы, связанные с проектами и задачами
*   Конечный пользователь с ролью Менеджер/Пользователь должен иметь возможность участвовать в чатах, обсуждениях и видеозвонках непосредственно внутри платформы.

### Требования к решению:

**Функциональные**

*   **Модуль аутентификации и авторизации должен предоставить возможность:**
    *   входа в систему с использованием логина и пароля.
    *   управления ролями и правами доступа.
*   **Модуль управления пользователями должен предоставить возможность:**
    *   регистрации новых пользователей с подтверждением по электронной почте.
*   **Модуль управления проектами и задачами должен предоставить возможность:**
    *   создание, редактирование и удаление проектов.
    *   определение целей, сроков и ответственных лиц для каждого проекта.
    *   отображение иерархии проектов и связанных с ними задач.
    *   Создание, редактирование и удаление задач.
    *   Назначение задач конкретным пользователям или группам.
    *   Установка приоритетов и дедлайнов для задач.
    *   Отслеживание прогресса выполнения задач.
    *   Уведомления о изменениях в задачах и приближающихся сроках.
*   **Календарный модуль:**
    *   Планирование и отображение встреч, дедлайнов и других событий.
    *   Интеграция с внешними календарями (например, Google Calendar, Outlook).
    *   Уведомления и напоминания о предстоящих событиях.
*   **Модуль управления документами:**
    *   Загрузка и хранение файлов различных форматов.
    *   Организация документов по проектам и задачам.
    *   Контроль версий документов.
    *   Совместное редактирование и комментирование документов.
*   **Модуль коммуникаций:**
    *   Встроенные текстовые чаты для индивидуального и группового общения.
    *   Форумы или доски обсуждений для детального рассмотрения вопросов.
    *   Возможность проведения аудио- и видеоконференций.
    *   Интеграция с модулем управления задачами для обсуждения конкретных задач.
*   **Модуль уведомлений:**
    *   Настраиваемые уведомления о событиях, изменениях в задачах и проектах.
    *   Отправка уведомлений по электронной почте, через push-уведомления или внутри системы.

** Нефункциональные**

*   **Производительность и масштабируемость:**

    *   Система должна обеспечивать время отклика не более 2 секунд для 95% запросов.
    *   Поддержка одновременной работы не менее 500 пользователей без снижения производительности.
    *   Возможность увеличения ресурсов системы для поддержки роста числа пользователей и объёма данных без значительных изменений архитектуры.
*   **Надёжность и доступность:**

    *   Система должна быть доступна не менее 99,9% времени в месяц, что соответствует допустимому времени простоя около 43 минут в месяц.
    *   Время восстановления системы после критического сбоя не должно превышать 1 часа.
    *   Ежедневное автоматическое резервное копирование данных с возможностью восстановления за любой день в течение последних 30 дней.
*   **Безопасность:**

    *   Реализация многофакторной аутентификации для всех пользователей и ролевой модели доступа к функционалу системы.
    *   Все данные, передаваемые между клиентом и сервером, должны быть защищены с использованием протокола HTTPS с TLS.
    *   Хранение паролей в зашифрованном виде с использованием современных алгоритмов хеширования.
*   **Удобство использования:**

    *   Пользовательский интерфейс должен быть разработан с учётом принципов UX, обеспечивая лёгкость навигации и минимальное время обучения.
    *   Система должна соответствовать стандартам доступности, обеспечивая возможность использования людьми с ограниченными возможностями.
    *   Поддержка нескольких языков интерфейса, включая, как минимум, английский и русский.
*   **Совместимость и переносимость:**

    *   Система должна корректно работать на основных операционных системах, включая Windows, macOS и популярные дистрибутивы Linux.
    *   Поддержка последних версий основных веб-браузеров: Google Chrome, Mozilla Firefox, Microsoft Edge и Safari.
    *   Интерфейс должен быть адаптирован для использования на мобильных устройствах с различными разрешениями экранов.
*   **Поддерживаемость и расширяемость:**

    *   Кодовая база должна сопровождаться подробной документацией, включаяционные тесты.
*   **Локализация:**

    *   Система должна предоставлять возможность отображения интерфейса на нескольких языках, включая русский и английский, с лёгким добавлением новых языков.
    *   Поддержка различных региональных форматов даты, времени, чисел и валют в зависимости от настроек пользователя.
*   **Юридические и нормативные требования:**

    *   Система должна соответствовать требованиям законодательства о защите персональных данных, таким как GDPR для пользователей из ЕС.
    *   Использование сторонних компонентов и библиотек должно соответствовать их лицензиям, исключая нарушения авторских прав.

## Структура БД

**Модель базы данных для подсистемы управления проектами и задачами**

![модель БД](Practice/UML_crowsfoot.png)

## Архитектура подсистемы

### Мой творческий черновик в drawio


### Описание 
#### Front:

*   User UI Web
*   User UI Mobile
*   Admin UI Mobile
*   Admin UI Web

#### Api Gateway:

Точка входа для всех запросов к подсистеме. Маршрутизирует запросы к соответствующим компонентам.

#### Authorization Service:

**Функционал:**

*   аутентификация
*   авторизация
*   База данных

#### User Service:

**Функционал:**

*   Регистрация: имя, фамилия, электронная почта, пароль (с возможностью сброса пароля).
*   Управление профилем:
    *   Редактирование личных данных.
    *   Просмотр назначенных задач.
    *   Календарь с расписанием.
    *   Доступ к документам и файлам.
    *   Уведомления (о новых задачах, изменениях, напоминаниях о сроках).
    *   Роль и доступ к проектам, в которых участвует пользователь.
*   База данных Пользователи, Админы, Роли (Postgre): Хранит информацию о пользователях и их ролях.

#### Admin Service:

**Функционал:**

*   Регистрация: имя, фамилия, электронная почта, пароль (с возможностью сброса пароля).
*   Управление профилем:
    *   Редактирование личных данных.
    *   Просмотр назначенных задач.
    *   Календарь с расписанием.
    *   Доступ к документам и файлам.
    *   Уведомления (о новых задачах, изменениях, напоминаниях о сроках).
    *   Роль и доступ к проектам, в которых участвует пользователь.
*   Управление пользователями:
    *   Добавление новых пользователей.
    *   Редактирование профилей пользователей.
    *   Назначение ролей и прав доступа (например, доступ к конкретным проектам).
    *   Удаление пользователей.

#### Project and Task System:

Предоставляет функциональность для управления проектами и задачами.

**Состоит из:**

*   **API Gateway:** Точка входа для всех запросов к сервису. Маршрутизирует запросы к соответствующим компонентам.
*   **Сервис Управления Проектами:**

    **Функционал:**

    *   Создание, редактирование, удаление, просмотр проектов.
    *   Добавление, удаление, управление ролями участников в проекте.
    *   Управление статусами проектов и задач: изменение, настройка автоматического изменения статусов.
*   **Сервис Управления Задачами:**

    **Функционал:**

    *   Создание, редактирование, удаление, просмотр, назначение задач.
    *   Установка, изменение и управление приоритетами задач (Высокий, Средний, Низкий).
    *   Установка и управление сроками выполнения задач.
    *   Отправка уведомлений пользователям о событиях, связанных с задачами (новая задача, изменение статуса, приближение срока выполнения).
    *   Установка зависимостей между задачами.
*   **Сервис Управления Ответственными:**

    **Функционал:**

    *   Предоставляет список доступных пользователей для назначения на задачу.
    *   Проверяет, имеет ли текущий пользователь право назначать задачу выбранному пользователю (ограничения по ролями, группами и т.д.).
*   **База данных (Проекты, Задачи, Пользователи):** Хранит информацию о проектах, задачах, пользователях и их связях.

#### Communication System:

Основной сервис, объединяющий все коммуникационные функции.

**Состоит из:**

*   **API Gateway:** Точка входа для всех запросов к сервису коммуникаций. Маршрутизирует запросы к соответствующим компонентам.
*   **Сервис Чатов:**

    **Функционал:**

    *   Управление пользователями, комнатами, отправка сообщений, хранение истории.
    *   Сервер, поддерживающий протокол WebSocket для двусторонней связи в реальном времени между клиентом и сервером. Используется для доставки сообщений.
*   **Сервис Обсуждений:**

    **Функционал:**

    *   Управление темами, постами, пользователями, правами доступа.
    *   Поисковый движок для индексации и поиска постов в форуме.
*   **Сервис Видеоконференций:**

    **Функционал:**

    *   Централизованный сервер видеоконференций, который получает все видео- и аудиопотоки от участников, обрабатывает их (например, смешивает потоки) и отправляет обратно участникам. Подходит для небольшого количества участников.
    *   Сигнальный Сервер, отвечающий за установление соединения между участниками
*   **База данных Кэш (Redis):** Используется как кэш для хранения часто используемых данных, а также как очередь сообщений для асинхронной обработки задач.
*   **База данных Метаданные (MongoDB):** Хранит метаданные: профили пользователей, комнаты чатов, темы форума, информацию о видеоконференциях.

#### Calendar Service:

**Функционал:**

*   Отображение всех задач и встреч, назначенных пользователю.
*   Фильтрация по проектам.
*   Напоминания о событиях.
*   Отображение сроков выполнения задач проекта и запланированных встреч.
*   Добавление событий (встреч, совещаний).
*   Интеграция с календарями других систем (Google Calendar, Outlook Calendar).
*   База данных событий (Postgree): хранит информацию о событиях
*   Интеграция с внешним сервисом уведомлений
*   Интеграция с внешними календарями

#### Document Service:

**Функционал:**

*   Загрузка файлов различных типов (документы, изображения, архивы.).
*   Ограничение размера файла (настраиваемое).
*   Группировка файлов по папкам (в рамках проекта или задачи).
*   поиск по названию файла или содержимому
*   Просмотр файлов прямо в системе (для поддерживаемых форматов).
*   Скачивание файлов с учетом разграничение доступа к файлам в зависимости от роли пользователя и проекта.
*   База данных Ссылок (Postgre): хранит ссылки на документов во внешнем хранилище S3
*   Внешнее хранилище документов (S3)

#### Очередь сообщений (RabbitMQ, Kafka):
Используется для асинхронной обработки задач, таких как отправка уведомлений.

### С4 Context

![С4 Context](Practice/С4_Context.png)

### C4 Container



## Описание взаимодействия компонентов системы

**Авторизация пользователя через User Web**

![Авторизация пользователя через User Web](Practice/UML_Auto.png)

**Создание задачи**

![Создание задачи](Practice/UML_Task.png)

